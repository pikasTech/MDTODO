# R51.17 任务报告

## 问题描述

执行中的高亮状态显示有问题：当 RX 进入执行中状态后，RX.X 即子项目也被显示为执行中状态。但是 RX 的执行中只应该高亮 RX 自身，不应该高亮子项目。

## 问题分析

通过代码分析，发现问题根源在于 CSS 选择器设计不当。

### HTML 结构

```html
<li class="task-item processing" data-task-id="R51">
  <div class="task-card">
    <!-- R51 的 task-card -->
  </div>
  <ul class="children">
    <li class="task-item" data-task-id="R51.1">
      <div class="task-card">
        <!-- R51.1 的 task-card -->
      </div>
    </li>
  </ul>
</li>
```

### 问题原因

原有的 CSS 选择器使用了**后代选择器**（空格）：

```css
.task-item.processing .task-card {
  border-color: #d97706;
  box-shadow: 0 0 8px rgba(217, 119, 6, 0.3);
}

.task-item.processing .task-checkbox {
  border-color: #d97706;
  animation: checkboxPulse 1.5s ease-in-out infinite;
}
```

由于 HTML 结构中子任务 (`<li class="task-item">`) 嵌套在父任务 (`<li class="task-item processing">`) 内部，后代选择器 `.task-item.processing .task-card` 会匹配到：
1. R51 的 `.task-card`（正确）
2. R51.1 的 `.task-card`（错误 - 因为 R51.1 也是 R51 的后代）

## 解决方案

将**后代选择器**改为**直接子元素选择器** `>`：

```css
.task-item.processing > .task-card {
  border-color: #d97706;
  box-shadow: 0 0 8px rgba(217, 119, 6, 0.3);
}

.task-item.processing > .task-card .task-checkbox {
  border-color: #d97706;
  animation: checkboxPulse 1.5s ease-in-out infinite;
}
```

修改内容：
- `.task-item.processing .task-card` → `.task-item.processing > .task-card`
- `.task-item.processing .task-checkbox` → `.task-item.processing > .task-card .task-checkbox`

## 修改文件

- `src/webview/components/TaskList.css` (第 123-131 行)

## 验证结果

编译成功，修复后只有具有 `processing` 属性的任务自身会显示执行中高亮样式，子任务不会被错误高亮。
