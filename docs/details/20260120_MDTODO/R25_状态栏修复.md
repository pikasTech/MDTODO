# R25 状态栏修复执行记录

## 问题描述

左下角的状态栏显示"未选择文件"，即使已经选择好了文件。

## 问题根因

`TaskList.tsx` 中状态栏显示的 `filePath` 只从 `initialTasks` props 初始化（只初始化一次），但从未在收到 `updateTasks` 消息时更新。

## 修复方案

1. **添加 `currentFilePath` 状态变量**（第45-46行）：
   ```typescript
   const [currentFilePath, setCurrentFilePath] = React.useState<string>(filePath || '');
   ```

2. **在 `handleMessage` 中更新 `currentFilePath`**（第176-177行）：
   ```typescript
   // 【修复R25】更新filePath状态
   setCurrentFilePath(message.filePath || '');
   ```

3. **状态栏使用 `currentFilePath`**（第749行）：
   ```typescript
   React.createElement('span', { className: 'file-path' }, currentFilePath || '未选择文件'),
   ```

## 修改文件

- `vscode-mdtodo/src/webview/components/TaskList.tsx`

## 验证结果

构建成功，可以重新加载 VSCode 窗口测试效果。
