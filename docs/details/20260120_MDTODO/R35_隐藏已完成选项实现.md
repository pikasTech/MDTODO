# R35 隐藏已完成选项实现

## 任务内容

将上方状态栏中的"已完成"筛选选项替换为"隐藏已完成"。

## 修改文件

`vscode-mdtodo/src/webview/components/TaskList.tsx`

## 修改内容

### 1. FilterType 类型定义（第25行）

将 `completed` 改为 `hide-completed`：

```typescript
interface FilterType {
  type: 'all' | 'active' | 'hide-completed' | 'processing';
  label: string;
}
```

### 2. 筛选逻辑注释（第521-522行）

更新注释以反映新的类型：

```typescript
// filterType: 'all' | 'active' | 'hide-completed' | 'processing'
```

### 3. 筛选条件逻辑（第533-541行）

修改 `filterTasks` 函数中的筛选条件：

```typescript
// 检查当前任务是否匹配筛选条件
// active = 未完成 且 未执行中
// hide-completed = 隐藏已完成（显示未完成任务和进行中任务）
// processing = 执行中 且 未完成
const isActive = !matchingTask.completed && !matchingTask.processing;
const matchesStatus = filterType === 'all' ||
  (filterType === 'active' && isActive) ||
  (filterType === 'hide-completed' && !matchingTask.completed) ||
  (filterType === 'processing' && matchingTask.processing && !matchingTask.completed);
```

### 4. 筛选按钮（第853-856行）

将按钮文字和对应类型改为：

```typescript
React.createElement('button', {
  className: `filter-btn ${filterType === 'hide-completed' ? 'active' : ''}`,
  onClick: () => setFilterType('hide-completed')
}, '隐藏已完成')
```

## 功能说明

- **全部**：显示所有任务
- **未开始**：仅显示未开始的任务（排除已完成和进行中的任务）
- **隐藏已完成**：隐藏已完成的任务，显示未开始和进行中的任务
- **进行中**：仅显示进行中的任务

## 编译验证

编译成功，无错误。
